{% paginate collection.products by 12 %}
  <div class="max-w-7xl mx-auto px-4 py-12">
    <header class="text-center mb-12">
      <h1 class="text-3xl md:text-4xl font-bold text-gray-900">{{ collection.title }}</h1>
      {% if collection.description != blank %}
        <div class="mt-4 text-gray-500 max-w-2xl mx-auto">{{ collection.description }}</div>
      {% endif %}
    </header>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-10">
      {% for product in collection.products %}
        <div class="group relative flex flex-col">
          <div class="aspect-[3/4] w-full overflow-hidden rounded-lg bg-gray-100 shadow-sm">
            <a href="{{ product.url }}">
              {% if product.featured_image %}
                <img
                  src="{{ product.featured_image | image_url: width: 600 }}"
                  alt="{{ product.title | escape }}"
                  loading="lazy"
                  class="h-full w-full object-cover object-center transition duration-300 group-hover:opacity-75"
                >
              {% else %}
                {{ 'product-1' | placeholder_svg_tag: 'h-full w-full object-cover bg-gray-50' }}
              {% endif %}
            </a>
          </div>

          <div class="mt-4 flex flex-col items-center text-center">
            <span class="text-xs text-gray-400 uppercase tracking-widest">{{ product.vendor }}</span>
            <h3 class="mt-1 text-sm font-medium text-gray-700">
              <a href="{{ product.url }}">{{ product.title }}</a>
            </h3>
            <p class="mt-1 text-lg font-bold text-gray-900">{{ product.price | money }}</p>
          </div>
        </div>
      {% else %}
        <div class="col-span-full text-center py-20">
          <p class="text-gray-500 text-lg">商品が見つかりませんでした</p>
        </div>
      {% endfor %}
    </div>

    {% if paginate.pages > 1 %}
      <div class="mt-16 flex justify-center border-t border-gray-200 pt-8">
        <nav class="flex gap-4">
          {{ paginate | default_pagination: next: '次へ', previous: '前へ' }}
        </nav>
      </div>
    {% endif %}
  </div>
{% endpaginate %}

{% schema %}
{
  "name": "Main Collection",
  "settings": [
    {
      "type": "paragraph",
      "content": "このセクションはコレクションページの全商品を自動的に表示します。"
    }
  ]
}
{% endschema %}
